{"version":3,"sources":["webpack:///webpack/bootstrap 6f80335f53fe776fdaf0","webpack:///./main.js","webpack:///./core/ComponentHandler.js","webpack:///./components/app/app.component.js","webpack:///./core/index.js","webpack:///./components/app/app.component.html"],"names":["handler","render","document","getElementById","instance","ComponentHandler","components","componentInstance","eventsBindingList","forEach","bind","element","addEventListener","eventName","functionName","Object","keys","activeTempate","templateString","replace","RegExp","key","componentClass","mountingPoint","component","setComponentProperties","setDomTree","bindComponentEvents","mountOn","AppComponent","selector","template","require","style","title","console","log","event","loadData","Component","config","target","prototype","isMounted","domTree","dataBindingList","createElement","innerHTML","allowedEvents","querySelectorAll","attributes","value","indexOf","removeAttribute","push","toLowerCase","name","setMountingPoint","domPoint","mount","componentWillMount","appendChild","componentDidMount","call","unmount"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6f80335f53fe776fdaf0","import ComponentHandler from './core/ComponentHandler';\nimport AppComponent  from './components/app/app.component.js';\n\nconst handler = new ComponentHandler();\nhandler.render(AppComponent, document.getElementById('app-wrapper'))\n// const appComponent = new AppComponent();\n// const app2: new AppComponent();\n\n// appComponent.mountOn(document.getElementById('app-wrapper'));\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","let instance = null;\n\nclass ComponentHandler {\n\n  components = {}\n\n  constructor() {\n    if(!instance){\n      instance = this;\n    }\n    return instance;\n  }\n\n  bindComponentEvents(componentInstance) {\n    componentInstance.eventsBindingList.forEach( bind => {\n      bind.element.addEventListener(bind.eventName, componentInstance[bind.functionName].bind(componentInstance))\n    })\n  }\n\n  setComponentProperties(componentInstance) {\n    Object.keys(componentInstance).forEach( key => {\n      componentInstance.activeTempate = componentInstance.templateString.replace(new RegExp(`\\{${key}\\}`, 'g'), componentInstance[key]);\n    })\n\n    // console.log(componentInstance.activeTempate)\n  }\n\n  render(componentClass, mountingPoint) {\n    const component = new componentClass();\n\n    this.setComponentProperties(component)\n    component.setDomTree();\n    this.bindComponentEvents(component)\n\n    component.mountOn(mountingPoint)\n  }\n}\n\nexport default ComponentHandler\n\n\n\n// WEBPACK FOOTER //\n// ./core/ComponentHandler.js","import Component  from '../../core';\nimport template from './app.component.html';\n\n@Component({\n  selector: 'app',\n  template: require('./app.component.html'),\n  style: require('./app.component.css')\n})\nclass AppComponent {\n  title = 'Apppp!';\n\n  constructor() {\n    console.log('App component constructor ')\n  }\n\n  loadData() {\n    console.log('load')\n  }\n\n  clickme(event) {\n    console.log(this)\n    this.loadData();\n  }\n\n  componentWillMount() {\n    console.log('will')\n    this.loadData();\n  }\n}\n\n\nexport default AppComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./components/app/app.component.js","\nfunction Component (config) {\n  return function(target) {\n    target.prototype.mountingPoint = null;\n    target.prototype.isMounted = false;\n    target.prototype.templateString = config.template;\n    target.prototype.activeTempate = '';\n    target.prototype.domTree = null;\n    target.prototype.eventsBindingList = [];\n    target.prototype.dataBindingList = [];\n\n\n    target.prototype.selector = config.selector;\n\n    target.prototype.setDomTree = () => {\n      target.domTree = document.createElement('div');\n      target.domTree.innerHTML = target.prototype.templateString;\n      const allowedEvents = ['onClick', 'onChange', 'onSubmit'];\n      allowedEvents.forEach( (eventName) => {\n        target.domTree.querySelectorAll(`[${eventName}]`).forEach( element => {\n          let functionName = element.attributes[eventName].value\n          if(functionName.indexOf('{') > -1 && functionName.indexOf('}') > -1){\n            functionName = functionName.replace(/[{}]/g, '');\n            element.removeAttribute(eventName)\n            if(target.prototype[functionName]){\n              target.prototype.eventsBindingList.push({\n                eventName: eventName.replace(/^on/g, '').toLowerCase(),\n                functionName: functionName,\n                element: element\n              })\n            }\n            else{\n              throw `\"${eventName}\" handler method \"${functionName}\" is not a memeber of ${target.name} component`;\n            }\n          }\n        })\n      })\n    }\n\n    // target.prototype.setDomTree();\n\n\n    target.prototype.setMountingPoint = (domPoint) => {\n      target.mountingPoint = domPoint;\n    }\n\n    target.prototype.mount = () => {\n      if(target.prototype.componentWillMount){\n        target.prototype.componentWillMount();\n      }\n      console.log(target.domTree)\n      target.mountingPoint.appendChild(target.domTree);\n      target.isMounted = true;\n\n      if(target.prototype.componentDidMount){\n        target.prototype.componentDidMount();\n      }\n    }\n\n    target.prototype.mountOn = (domPoint) => {\n      target.prototype.setMountingPoint.call(target, domPoint);\n      target.prototype.mount.call(target);\n    }\n\n    target.prototype.unmount = () => {\n      target.mountingPoint.innerHTML('');\n      target.isMounted = false;\n    }\n\n    target.prototype.render = () => {\n      console.log(target.prototype);\n    }\n\n  }\n}\n\nexport default Component\n\n\n\n// WEBPACK FOOTER //\n// ./core/index.js","module.exports = \"<div>{title}</div>\\n<div>\\n  <button onClick=\\\"{clickme}\\\">Click Me</button>\\n</div>\\n<div>\\n  <button onClick=\\\"{clickme}\\\">Click Me again</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/app/app.component.html\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}